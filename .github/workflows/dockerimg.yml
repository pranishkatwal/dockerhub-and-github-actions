name: Docker Image and CI

on: 
 push: 
  branches: [master]
 pull_request: 
  branches: [master]

jobs:
 build: 
   runs-on: ubuntu-latest
   steps:
    - uses: actions/checkout@v2
    - name: docker login
      env: 
        Docker_user: ${{secrets.USERNAME}}
        Docker_password: ${{secrets.PASSWORD}}
      run: |
       docker login -u $Docker_user -p $Docker_password
       
    - name: Build the docker image
      run: docker build . --file Dockerfile --tag pkatwal/pranish
       
    - name: Push image to the docker hub 
      run: docker push pkatwal/pranish
      
      
     
 
